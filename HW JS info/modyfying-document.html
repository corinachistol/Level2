<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <ul>
        <li>Animals
          <ul>
            <li>Mammals
              <ul>
                <li>Cows</li>
                <li>Donkeys</li>
                <li>Dogs</li>
                <li>Tigers</li>
              </ul>
            </li>
            <li>Other
              <ul>
                <li>Snakes</li>
                <li>Birds</li>
                <li>Lizards</li>
              </ul>
            </li>
          </ul>
        </li>
        <li>Fishes
          <ul>
            <li>Aquarium
              <ul>
                <li>Guppy</li>
                <li>Angelfish</li>
              </ul>
            </li>
            <li>Sea
              <ul>
                <li>Sea trout</li>
              </ul>
            </li>
          </ul>
        </li>
    </ul>
    

    <div id="container"></div>

    <script>
    //1. Create a list
        let ul = document.createElement("ul");
        document.body.append(ul);

        while (true){
        let content = prompt("Enter the text for the list item")

        if(!content) {
            break;
        }

        let li = document.createElement("li");
        li.textContent = content;
        ul.append(li);

        }
    //2. Create a tree from the object
        let data = {
            "Fish": {
                "trout": {},
                "salmon": {} 
            },
            "Tree": {
                "Huge": {
                    "sequoia": {},
                    "oak": {} 
                }
            },
            "Flowering": {
                "apple tree": {},
                "magnolia": {} 
            },
        }

        //     // solution with innerHTML
        // function createTree(container, obj) {
        //     container.innerHTML = createTreeText(obj)
        // }

        // function createTreeText(obj) {
        //     let li = "";
        //     let ul ;
        //     for (let key in obj) {
        //         li += '<li>' + key + createTreeText(obj[key]) +   '</li>'
        //     }

        //     if( li) {
        //         ul = '<ul>' + li + '</ul>'
        //     }

        //     return ul || '';
        // }
        // createTree(container, data);

        // solution with DOM
        function createTree(container,obj) {
            container.append(createTreeDom(obj))
        }

        function createTreeDom(obj) {
            if(!Object.keys(obj).length) return;

            let ul = document.createElement("ul")

            for(let key in obj) {
                let li = document.createElement("li")
                li.innerHTML = key;

                let childrenUl = createTreeDom(obj[key])

                if(childrenUl){
                    li.append(childrenUl)
                }
                ul.append(li)
            }
            return ul
        }
        let container = document.getElementById("container")
        createTree(container,data)


        
    //3..Show descendants in a tree

    let lists = document.querySelectorAll("li")
    for (let li of lists) {
        let count = li.getElementsByTagName('li').length
        if(!count) continue
        li.firstChild.data += '[' + count + ']'
    }


    </script>

  
    
</body>
</html>

